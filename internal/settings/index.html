<!doctype html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings</title>
    <link rel="icon" type="image/png" href="/res/logo.png" />
    <meta property="og:image" content="/res/logo.png" />
    <link
      rel="preload"
      href="/src/css/pages/settings.css"
      as="style"
      onload="this.rel='stylesheet'"
    />
    <noscript>
      <link rel="stylesheet" href="/src/css/pages/settings.css" />
    </noscript>
    <link rel="stylesheet" href="/src/css/internal.css" />

    <script type="module" src="/src/js/internal/settings.ts"></script>
  </head>

  <body class="bg-[var(--bg-2)] text-[var(--text)] antialiased">
    <div class="min-h-screen w-full">
      <button
        id="aside-toggle"
        class="fixed top-4 left-4 overflow-visible 2xl:hidden inline-flex h-10 w-10 items-center justify-center rounded-lg text-[var(--text)]/80 bg-[var(--bg-2)] ring-1 ring-[var(--white-10)] hover:bg-[var(--white-05)]"
        aria-label="Toggle menu"
      >
        <i data-lucide="menu" class="!h-6 !w-6 z-[99999]"></i>
      </button>
      <aside
        id="aside"
        aside="settings"
        class="fixed top-0 left-0 h-screen w-64 bg-[var(--bg-1)] border-r border-[var(--white-08)] p-6 overflow-y-auto z-40 transition-transform duration-300 -translate-x-full 2xl:translate-x-0"
      >
        <div class="flex justify-between items-center mb-8">
          <div>
            <h1 class="text-2xl font-bold text-[var(--main)] mb-1">Settings</h1>
            <p class="text-sm text-[var(--proto)]">Configure DayDreamX</p>
          </div>
          <button
            id="aside-close"
            class="2xl:hidden z-[9999] inline-flex h-8 w-8 items-center justify-center rounded-lg text-[var(--text)]/80 hover:bg-[var(--white-05)]"
            aria-label="Close menu"
          >
            <i data-lucide="x" class="h-5 w-5 z-[99999]"></i>
          </button>
        </div>

        <nav class="space-y-2">
          <a
            href="#Appearance"
            class="settingItem flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[var(--white-05)] transition-colors z-60 pointer-events-auto relative"
            data-id="appearance"
          >
            <i data-lucide="palette" class="h-4 w-4"></i>
            <span>Appearance</span>
          </a>
          <a
            href="#Privacy"
            class="settingItem flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[var(--white-05)] transition-colors z-60 pointer-events-auto relative"
            data-id="privacy"
          >
            <i data-lucide="shield" class="h-4 w-4"></i>
            <span>Privacy & Cloaking</span>
          </a>
          <a
            href="#Search"
            class="settingItem flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[var(--white-05)] transition-colors z-60 pointer-events-auto relative"
            data-id="search"
          >
            <i data-lucide="search" class="h-4 w-4"></i>
            <span>Search & Navigation</span>
          </a>
          <a
            href="#Keybinds"
            class="settingItem flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[var(--white-05)] transition-colors z-60 pointer-events-auto relative"
            data-id="keybinds"
          >
            <i data-lucide="keyboard" class="h-4 w-4"></i>
            <span>Keyboard Shortcuts</span>
          </a>
          <a
            href="#Advanced"
            class="settingItem flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[var(--white-05)] transition-colors z-60 pointer-events-auto relative"
            data-id="advanced"
          >
            <i data-lucide="settings" class="h-4 w-4"></i>
            <span>Advanced</span>
          </a>

          <hr class="border-[var(--white-08)] my-4" />

          <a
            href="#About"
            class="settingItem flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[var(--white-05)] transition-colors"
            data-id="about"
          >
            <i data-lucide="info" class="h-4 w-4"></i>
            <span>About & Statistics</span>
          </a>
        </nav>
      </aside>

      <main class="flex-1 h-screen overflow-y-auto">
        <div class="p-8 max-w-4xl space-y-12 mx-auto">
          <section id="Privacy" class="space-y-6">
            <div class="border-b border-[var(--white-08)] pb-4">
              <h2 class="text-xl font-semibold text-[var(--text)] mb-2">
                Privacy & Cloaking
              </h2>
              <p class="text-sm text-[var(--proto)]">
                Control your privacy and how DDX appears to others
              </p>
            </div>

            <div class="grid gap-6">
              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-sm font-medium text-[var(--text)] mb-3">
                  URL Cloak
                </h3>
                <select
                  id="URL-cloakSelect"
                  component="dropdown"
                  data-setting="URL_Cloak"
                  class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                >
                  <option value="off">Off</option>
                  <option value="a:b">About:Blank</option>
                  <option value="blob">Blob</option>
                </select>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <div class="flex items-center justify-between">
                  <div>
                    <h3 class="text-sm font-medium text-[var(--text)]">
                      Auto Cloak
                    </h3>
                    <p class="text-xs text-[var(--proto)] mt-1">
                      Automatically cloak when browsing
                    </p>
                  </div>
                  <label class="relative inline-flex cursor-pointer">
                    <input
                      id="autoCloakSwitch"
                      component="switch"
                      type="checkbox"
                      data-setting="autoCloak"
                      class="sr-only peer"
                    />
                    <div
                      class="relative w-11 h-6 bg-[var(--white-10)] peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[var(--main-20a)] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[var(--main)]"
                    ></div>
                  </label>
                </div>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-sm font-medium text-[var(--text)] mb-3">
                  Tab Cloaking
                </h3>
                <p class="text-xs text-[var(--proto)] mb-3">
                  Change your tab's title and favicon to disguise your browsing
                </p>
                <select
                  id="tabCloakSelect"
                  component="dropdown"
                  data-setting="tabCloak"
                  class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                ></select>

                <div id="customTabCloakOptions" class="mt-4 space-y-3 hidden">
                  <div>
                    <label
                      class="block text-xs font-medium text-[var(--text)] mb-1"
                    >
                      Custom Title
                    </label>
                    <input
                      type="text"
                      id="customTabTitle"
                      data-setting="customTabTitle"
                      placeholder="Enter custom tab title"
                      class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] placeholder-[var(--text)]/40 focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-xs font-medium text-[var(--text)] mb-1"
                    >
                      Custom Favicon
                    </label>
                    <div class="flex gap-2">
                      <input
                        type="text"
                        id="customTabFavicon"
                        data-setting="customTabFavicon"
                        placeholder="Enter favicon URL or upload image"
                        class="flex-1 rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] placeholder-[var(--text)]/40 focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                      />
                      <input
                        type="file"
                        id="faviconUpload"
                        accept="image/*"
                        class="hidden"
                      />
                      <button
                        id="uploadFaviconBtn"
                        component="button"
                        class="px-4 py-2 bg-[var(--main)] text-[var(--bg-2)] rounded-lg text-sm font-medium hover:bg-[var(--main)]/90 focus:outline-none focus:ring-2 focus:ring-[var(--main)]/50"
                      >
                        Upload
                      </button>
                    </div>
                  </div>
                  <div class="flex items-center gap-3 pt-2">
                    <div class="flex items-center gap-2">
                      <div
                        id="faviconPreview"
                        class="w-8 h-8 rounded border border-[var(--white-10)] bg-[var(--bg-2)] flex items-center justify-center overflow-hidden"
                      >
                        <img
                          id="faviconPreviewImg"
                          class="w-full h-full object-contain hidden"
                        />
                        <span class="text-xs text-[var(--text)]/40"
                          >Preview</span
                        >
                      </div>
                      <span
                        id="titlePreview"
                        class="text-sm text-[var(--text)]"
                      ></span>
                    </div>
                  </div>
                </div>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <div class="flex items-center justify-between">
                  <div>
                    <h3 class="text-sm font-medium text-[var(--text)]">
                      Disable Tab Close
                    </h3>
                    <p class="text-xs text-[var(--proto)] mt-1">
                      Prevent tabs from closing accidentally with beforeunload
                      warning
                    </p>
                  </div>
                  <label class="relative inline-flex cursor-pointer">
                    <input
                      id="disableTabCloseSwitch"
                      component="switch"
                      type="checkbox"
                      data-setting="disableTabClose"
                      class="sr-only peer"
                    />
                    <div
                      class="relative w-11 h-6 bg-[var(--white-10)] peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[var(--main-20a)] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[var(--main)]"
                    ></div>
                  </label>
                </div>
              </div>
            </div>
            <div
              class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
            >
              <div class="flex items-center justify-between">
                <div>
                  <h3 class="text-sm font-medium text-[var(--text)]">
                    Panic Key
                  </h3>
                  <p class="text-xs text-[var(--proto)] mt-1">
                    Set a keybind to quickly redirect to a safe page
                  </p>
                </div>
                <p class="text-sm text-[var(--proto)]">
                  <input
                    type="text"
                    id="panicKeybind"
                    data-setting="panicKeybind"
                    class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] placeholder-[var(--text)]/40 focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                    placeholder="No Keybind Set"
                  />
                </p>
              </div>
            </div>
          </section>

          <section id="Appearance" class="space-y-6">
            <div class="border-b border-[var(--white-08)] pb-4">
              <h2 class="text-xl font-semibold text-[var(--text)] mb-2">
                Appearance
              </h2>
              <p class="text-sm text-[var(--proto)]">
                Customize the look and feel of DDX
              </p>
            </div>

            <div class="grid gap-6">
              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-lg font-medium text-[var(--text)] mb-4">
                  Theme Presets
                </h3>

                <div class="space-y-6">
                  <div>
                    <h4 class="text-sm font-medium text-[var(--text)] mb-3">
                      Choose a Theme
                    </h4>
                    <div
                      id="themePresetGrid"
                      class="grid grid-cols-2 gap-3"
                    ></div>
                  </div>

                  <div
                    id="customColorSection"
                    class="border-t border-[var(--white-08)] pt-6"
                  >
                    <h4 class="text-sm font-medium text-[var(--text)] mb-4">
                      Customize Colors
                    </h4>

                    <div class="space-y-4">
                      <div id="accentColorPalette">
                        <h5 class="text-xs font-medium text-[var(--text)] mb-2">
                          Accent Colors
                        </h5>
                        <div
                          id="accentColorGrid"
                          class="grid grid-cols-6 gap-2"
                        ></div>
                      </div>
                      <div class="wrap">
                        <div class="half">
                          <div class="colorPicker"></div>
                        </div>
                        <div class="half">
                          <input id="hexInput" />
                          <br />
                          <input id="rgbString" />
                          <br />
                          <input id="hslString" />
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="border-t border-[var(--white-08)] pt-6">
                    <div>
                      <h5 class="text-xs font-medium text-[var(--text)] mb-3">
                        Background
                      </h5>
                      <div class="flex gap-3">
                        <button
                          id="bgUpload"
                          component="button"
                          class="flex-1 px-4 py-2 bg-[var(--main)] text-[var(--bg-2)] rounded-lg text-sm font-medium hover:bg-[var(--main)]/90 focus:outline-none focus:ring-2 focus:ring-[var(--main)]/50"
                        >
                          Upload
                        </button>
                        <button
                          id="bgRemove"
                          component="button"
                          class="flex-1 px-4 py-2 bg-[var(--white-10)] text-[var(--text)] rounded-lg text-sm font-medium hover:bg-[var(--white-20)] focus:outline-none focus:ring-2 focus:ring-[var(--white-20)]"
                        >
                          Remove
                        </button>
                      </div>
                      <div class="bg-list mt-3" id="bgList"></div>
                      <input type="file" id="bgInput" style="display: none" />
                    </div>
                  </div>
                </div>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-sm font-medium text-[var(--text)] mb-3">
                  New Tab Page
                </h3>
                <p class="text-xs text-[var(--proto)] mb-3">
                  Choose what appears when you open a new tab
                </p>
                <select
                  id="newtabSelect"
                  component="dropdown"
                  data-setting="newtabPage"
                  class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                >
                  <option value="default">Default New Tab</option>
                  <option value="blank">Blank Page</option>
                  <option value="custom">Custom URL</option>
                </select>
                <div id="newtabCustomInput" class="hidden mt-3">
                  <input
                    type="text"
                    id="newtabCustomUrl"
                    data-setting="newtabCustomUrl"
                    class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] placeholder-[var(--text)]/40 focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                    placeholder="https://example.com"
                  />
                </div>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-sm font-medium text-[var(--text)] mb-3">
                  Home Page
                </h3>
                <p class="text-xs text-[var(--proto)] mb-3">
                  Set a custom home page URL (ddx://home/)
                </p>
                <select
                  id="homeSelect"
                  component="dropdown"
                  data-setting="homeUrl"
                  class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                >
                  <option value="default">Default (New Tab)</option>
                  <option value="custom">Custom URL</option>
                </select>
                <div id="homeCustomInput" class="hidden mt-3">
                  <input
                    type="text"
                    id="homeCustomUrl"
                    data-setting="homeCustomUrl"
                    class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] placeholder-[var(--text)]/40 focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                    placeholder="https://example.com"
                  />
                </div>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <div class="flex items-center justify-between">
                  <div>
                    <h3 class="text-sm font-medium text-[var(--text)]">
                      Show Shortcuts on New Tab
                    </h3>
                    <p class="text-xs text-[var(--proto)] mt-1">
                      Display quick access shortcuts on the new tab page
                    </p>
                  </div>
                  <label class="relative inline-flex cursor-pointer">
                    <input
                      id="newtabShortcutsToggle"
                      component="switch"
                      type="checkbox"
                      data-setting="newtabShowShortcuts"
                      class="sr-only peer"
                    />
                    <div
                      class="relative w-11 h-6 bg-[var(--white-10)] peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[var(--main-20a)] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[var(--main)]"
                    ></div>
                  </label>
                </div>
              </div>
            </div>
          </section>

          <section id="Search" class="space-y-6">
            <div class="border-b border-[var(--white-08)] pb-4">
              <h2 class="text-xl font-semibold text-[var(--text)] mb-2">
                Search & Navigation
              </h2>
              <p class="text-sm text-[var(--proto)]">
                Configure proxy backend, search engines, and navigation options
              </p>
            </div>

            <div class="grid gap-6">
              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-sm font-medium text-[var(--text)] mb-3">
                  On Startup
                </h3>
                <p class="text-xs text-[var(--proto)] mb-3">
                  Choose what happens when you start DDX
                </p>
                <select
                  id="startupSelect"
                  component="dropdown"
                  data-setting="startupBehavior"
                  class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                >
                  <option value="restore">Restore Previous Tabs</option>
                  <option value="newtab">Open New Tab</option>
                  <option value="custom">Open Custom URL</option>
                </select>
                <div id="startupCustomInput" class="hidden mt-3">
                  <input
                    type="text"
                    id="startupCustomUrl"
                    data-setting="startupCustomUrl"
                    class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] placeholder-[var(--text)]/40 focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                    placeholder="https://example.com"
                  />
                </div>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-sm font-medium text-[var(--text)] mb-3">
                  Backend
                </h3>
                <select
                  id="proxySelect"
                  component="dropdown"
                  data-setting="proxy"
                  class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                >
                  <option value="auto">Automatic</option>
                  <option value="sj">Scramjet</option>
                  <option value="uv">Ultraviolet</option>
                </select>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-sm font-medium text-[var(--text)] mb-3">
                  Transport
                </h3>
                <select
                  id="transportSelect"
                  component="dropdown"
                  data-setting="transports"
                  class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                >
                  <option value="libcurl">LibCurl</option>
                  <option value="epoxy">Epoxy</option>
                </select>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-sm font-medium text-[var(--text)] mb-3">
                  Search Engine
                </h3>
                <select
                  id="searchSelect"
                  component="dropdown"
                  data-setting="search"
                  class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                >
                  <option value="https://google.com/search?q=%s">Google</option>
                  <option value="https://bing.com/search?q=%s">Bing</option>
                  <option value="https://duckduckgo.com/?q=%s">
                    DuckDuckGo
                  </option>
                  <option value="https://search.yahoo.com/search?p=%s">
                    Yahoo
                  </option>
                </select>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <div class="flex items-center justify-between">
                  <div>
                    <h3 class="text-sm font-medium text-[var(--text)]">
                      Search Suggestions
                    </h3>
                    <p class="text-xs text-[var(--proto)] mt-1">
                      Show search suggestions as you type in the address bar
                    </p>
                  </div>
                  <label class="relative inline-flex cursor-pointer">
                    <input
                      id="searchSuggestionsToggle"
                      component="switch"
                      type="checkbox"
                      data-setting="searchSuggestions"
                      class="sr-only peer"
                    />
                    <div
                      class="relative w-11 h-6 bg-[var(--white-10)] peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[var(--main-20a)] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[var(--main)]"
                    ></div>
                  </label>
                </div>
              </div>

              <div
                id="wispDiv"
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-sm font-medium text-[var(--text)] mb-3">
                  WISP Server
                </h3>
                <p class="text-xs text-[var(--proto)] mb-3">
                  Select a WISP proxy server. Premium servers (Night+ only)
                  offer better performance and reliability.
                </p>
                <div class="space-y-3">
                  <select
                    id="wispSelect"
                    component="dropdown"
                    data-setting="wisp"
                    class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                  >
                    <option value="auto">Automatic (Default)</option>
                    <!-- Free servers will be populated here -->
                    <!-- Premium servers will be dynamically added for Night+ users -->
                  </select>
                  <div id="wispCustomInput" class="hidden space-y-3">
                    <input
                      type="text"
                      id="wispCustomSetting"
                      data-setting="wisp"
                      class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] placeholder-[var(--text)]/40 focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                      placeholder="wss://example.com/wisp/"
                    />
                    <div class="flex gap-3">
                      <button
                        id="saveWispSetting"
                        component="button"
                        class="flex-1 px-4 py-2 bg-[var(--main)] text-[var(--bg-2)] rounded-lg text-sm font-medium hover:bg-[var(--main)]/90 focus:outline-none focus:ring-2 focus:ring-[var(--main)]/50"
                      >
                        Save Custom
                      </button>
                      <button
                        id="cancelWispCustom"
                        component="button"
                        class="flex-1 px-4 py-2 bg-[var(--white-10)] text-[var(--text)] rounded-lg text-sm font-medium hover:bg-[var(--white-20)] focus:outline-none focus:ring-2 focus:ring-[var(--white-20)]"
                      >
                        Cancel
                      </button>
                    </div>
                  </div>
                  <button
                    id="useCustomWisp"
                    component="button"
                    class="w-full px-4 py-2 bg-[var(--white-10)] text-[var(--text)] rounded-lg text-sm font-medium hover:bg-[var(--white-20)] focus:outline-none focus:ring-2 focus:ring-[var(--white-20)]"
                  >
                    Use Custom WISP Server
                  </button>
                  <div
                    id="nightPlusWispNotice"
                    class="hidden p-3 bg-[var(--main-20a)] border border-[var(--main-35a)] rounded-lg"
                  >
                    <div class="flex items-start gap-2">
                      <i
                        data-lucide="crown"
                        class="h-4 w-4 text-[var(--main)] mt-0.5 flex-shrink-0"
                      ></i>
                      <div class="text-xs text-[var(--text)]">
                        <strong class="text-[var(--main)]"
                          >Night+ Premium Servers Available</strong
                        >
                        <p class="mt-1">
                          Upgrade to Night+ to access high-performance premium
                          WISP servers with better speed and reliability.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-sm font-medium text-[var(--text)] mb-3">
                  Premium Proxy Routing
                  <span
                    class="ml-2 px-2 py-0.5 bg-[var(--main-20a)] text-[var(--main)] text-xs rounded-full"
                    >Night+ Only</span
                  >
                </h3>
                <p class="text-xs text-[var(--proto)] mb-3">
                  Advanced proxy routing and configuration options. Requires an
                  active Night+ subscription.
                </p>
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-xs text-[var(--proto)] mt-1">
                      Enable advanced proxy routing features
                    </p>
                  </div>
                  <label class="relative inline-flex cursor-pointer">
                    <input
                      id="proxyRoutingToggle"
                      component="switch"
                      type="checkbox"
                      data-setting="premiumProxyRouting"
                      disabled
                      class="sr-only peer disabled:opacity-50"
                    />
                    <div
                      class="relative w-11 h-6 bg-[var(--white-10)] peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[var(--main-20a)] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[var(--main)] peer-disabled:opacity-50"
                    ></div>
                  </label>
                </div>
                <div
                  id="proxyRoutingNotice"
                  class="mt-3 p-3 bg-[var(--main-20a)] border border-[var(--main-35a)] rounded-lg"
                >
                  <div class="flex items-start gap-2">
                    <i
                      data-lucide="crown"
                      class="h-4 w-4 text-[var(--main)] mt-0.5 flex-shrink-0"
                    ></i>
                    <div class="text-xs text-[var(--text)]">
                      <strong class="text-[var(--main)]"
                        >Night+ Premium Feature</strong
                      >
                      <p class="mt-1">
                        Upgrade to Night+ to unlock advanced proxy routing
                        capabilities.
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <div class="flex items-center justify-between">
                  <div>
                    <h3 class="text-sm font-medium text-[var(--text)]">
                      Enable Reflux
                    </h3>
                    <p class="text-xs text-[var(--proto)] mt-1">
                      Enhanced proxy plugin system for additional features
                    </p>
                  </div>
                  <label class="relative inline-flex cursor-pointer">
                    <input
                      id="refluxToggle"
                      component="switch"
                      type="checkbox"
                      data-setting="RefluxStatus"
                      class="sr-only peer"
                    />
                    <div
                      class="relative w-11 h-6 bg-[var(--white-10)] peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[var(--main-20a)] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[var(--main)]"
                    ></div>
                  </label>
                </div>
              </div>
            </div>
          </section>

          <section id="Advanced" class="space-y-6">
            <div class="border-b border-[var(--white-08)] pb-4">
              <h2 class="text-xl font-semibold text-[var(--text)] mb-2">
                Advanced
              </h2>
              <p class="text-sm text-[var(--proto)]">
                Developer tools and advanced configuration options
              </p>
            </div>

            <div class="grid gap-6">
              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-sm font-medium text-[var(--text)] mb-3">
                  Remote Proxy Server
                </h3>
                <p class="text-xs text-[var(--proto)] mb-3">
                  Route traffic through an external proxy server (supports
                  SOCKS5, SOCKS4 & HTTP - only works with LibCurl transport).
                  Mullvad servers require Night+ VPN to function properly.
                </p>
                <div class="space-y-3">
                  <select
                    id="proxyServerSelect"
                    component="dropdown"
                    data-setting="proxyServer"
                    class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                  >
                    <option value="">None (Direct Connection)</option>
                    <!-- Options will be populated via JavaScript -->
                  </select>
                  <div id="proxyServerCustomInput" class="hidden space-y-3">
                    <input
                      type="text"
                      id="proxyServerCustomUrl"
                      data-setting="proxyServerCustomUrl"
                      class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] placeholder-[var(--text)]/40 focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                      placeholder="socks5://example.com:1080 or http://proxy.com:8080"
                    />
                    <div class="flex gap-3">
                      <button
                        id="saveProxyServerCustom"
                        component="button"
                        class="flex-1 px-4 py-2 bg-[var(--main)] text-[var(--bg-2)] rounded-lg text-sm font-medium hover:bg-[var(--main)]/90 focus:outline-none focus:ring-2 focus:ring-[var(--main)]/50"
                      >
                        Save Custom
                      </button>
                      <button
                        id="cancelProxyServerCustom"
                        component="button"
                        class="flex-1 px-4 py-2 bg-[var(--white-10)] text-[var(--text)] rounded-lg text-sm font-medium hover:bg-[var(--white-20)] focus:outline-none focus:ring-2 focus:ring-[var(--white-20)]"
                      >
                        Cancel
                      </button>
                    </div>
                  </div>
                  <button
                    id="useCustomProxyServer"
                    component="button"
                    class="w-full px-4 py-2 bg-[var(--white-10)] text-[var(--text)] rounded-lg text-sm font-medium hover:bg-[var(--white-20)] focus:outline-none focus:ring-2 focus:ring-[var(--white-20)]"
                  >
                    Use Custom Proxy Server
                  </button>
                </div>
              </div>

              <div
                class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
              >
                <h3 class="text-sm font-medium text-[var(--text)] mb-3">
                  Developer Tools
                </h3>
                <select
                  id="devtools-select"
                  component="dropdown"
                  data-setting="devtools"
                  class="w-full rounded-lg bg-[var(--bg-2)] border border-[var(--white-10)] px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--main)]"
                >
                  <option value="chii">Chii (Modern DevTools) - BROKEN</option>
                  <option value="eruda">Eruda (Lightweight Console)</option>
                </select>
                <p class="text-xs text-[var(--proto)] mt-2">
                  Choose which developer tools to use when pressing F12 or
                  Ctrl+Shift+I
                </p>
              </div>
            </div>
          </section>

          <section id="Keybinds" class="space-y-6">
            <div class="border-b border-[var(--white-08)] pb-4">
              <div class="flex items-center justify-between">
                <div>
                  <h2 class="text-xl font-semibold text-[var(--text)] mb-2">
                    Keyboard Shortcuts
                  </h2>
                  <p class="text-sm text-[var(--proto)]">
                    Customize keyboard shortcuts for various actions
                  </p>
                </div>
                <button
                  id="reset-all-keybinds"
                  class="px-4 py-2 text-sm rounded-lg bg-[var(--bg-1)] text-[var(--text)] border border-[var(--white-10)] hover:bg-[var(--white-05)] transition-colors"
                >
                  Reset All
                </button>
              </div>
            </div>

            <div id="keybinds-container" class="space-y-4">
              <!-- Keybind categories will be dynamically inserted here -->
            </div>
          </section>

          <section id="About" class="space-y-6">
            <div class="border-b border-[var(--white-08)] pb-4">
              <h2 class="text-xl font-semibold text-[var(--text)] mb-2">
                About DayDreamX
              </h2>
              <p class="text-sm text-[var(--proto)]">
                Information about the project and contributors
              </p>
            </div>

            <div
              class="bg-[var(--bg-1)] rounded-xl p-6 ring-1 ring-inset ring-[var(--white-08)]"
            >
              <div class="prose prose-sm max-w-none">
                <p class="text-sm text-[var(--text)] leading-relaxed mb-4">
                  DayDreamX is a Project that aims to bring a new browsing
                  experience to users by providing a modern and customizable
                  interface that is both fast and secure.
                </p>
                <p class="text-sm text-[var(--text)] leading-relaxed mb-4">
                  Our browser is heavily inspired by Vivaldi and Arc, and we aim
                  to provide a similar experience to our users without the
                  downsides of spyware or lack of support.
                </p>
                <p class="text-sm text-[var(--text)] leading-relaxed mb-4">
                  We aim to provide a similar browser remake similar to
                  r58playz's AboutBrowser, Cohen's Velocity, and Other Projects.
                  We keep our site running with ads, while giving you the choice
                  to disable them.
                </p>
                <p class="text-sm text-[var(--proto)] mb-6">
                  AI was used in the debugging and development process of
                  DayDreamX.
                </p>

                <h3 class="text-lg font-semibold text-[var(--main)] mb-3">
                  Techstack
                </h3>
                <ul class="text-sm text-[var(--text)] space-y-1 mb-6">
                  <li>- Ultraviolet V3</li>
                  <li>- Scramjet</li>
                  <li>- BareMux V2</li>
                  <li>- Libcurl.js</li>
                  <li>- Epoxy</li>
                  <li>- Eruda</li>
                  <li>- JS-cookie</li>
                  <li>- Localforage</li>
                  <li>- NightmareJS (In Development)</li>
                  <li>- Iro.js</li>
                </ul>

                <hr class="border-[var(--white-08)] my-6" />

                <h3 class="text-lg font-semibold text-[var(--main)] mb-3">
                  Developers
                </h3>
                <p class="text-xs text-[var(--proto)] mb-4">
                  Click on a Dev's name to redirect to their portfolio.
                </p>

                <div class="space-y-4">
                  <div>
                    <h4 class="text-sm font-medium">
                      <a
                        href="https://amplifydev.tech"
                        class="text-[var(--main)] hover:text-[var(--main)]/80 transition-colors"
                      >
                        Amplify (Owner)
                      </a>
                    </h4>
                    <ul class="text-xs text-[var(--text)] mt-1 space-y-0.5">
                      <li>- Many bug fixes</li>
                      <li>- Wrote most of backend</li>
                      <li>- Wrote Extensions System and Other APIs</li>
                      <li>- Manages And runs DayDreamX and its stability</li>
                    </ul>
                  </div>

                  <div>
                    <h4 class="text-sm font-medium">
                      <a
                        href="https://github.com/crllect"
                        class="text-[var(--main)] hover:text-[var(--main)]/80 transition-colors"
                      >
                        Crllect (Owner)
                      </a>
                    </h4>
                    <ul class="text-xs text-[var(--text)] mt-1 space-y-0.5">
                      <li>- Designed and wrote all UI</li>
                      <li>- Wrote some of tab functionality</li>
                      <li>- Did skeletons for all pages</li>
                      <li>- Wrote some frontend and backend</li>
                    </ul>
                  </div>

                  <div>
                    <h4 class="text-sm font-medium">
                      <a
                        href="https://guns.lol/kdust7"
                        class="text-[var(--main)] hover:text-[var(--main)]/80 transition-colors"
                      >
                        KDust7 (Owner)
                      </a>
                    </h4>
                    <ul class="text-xs text-[var(--text)] mt-1 space-y-0.5">
                      <li>- Helped with testing and debugging</li>
                      <li>- Wrote Night+ backend</li>
                      <li>- Manages link archive</li>
                    </ul>
                  </div>
                </div>
                <div class="mt-6 pt-6 border-t border-[var(--white-08)]">
                  <h3 class="text-lg font-semibold text-[var(--main)] mb-2">
                    Thank you for contributing to DayDreamX.
                  </h3>
                  <p class="text-sm text-[var(--text)]">
                    If you would like to contribute, check out our
                    <a
                      href="https://gitlab.com/nightnetwork/daydreamx"
                      class="text-[var(--main)] hover:text-[var(--main)]/80 transition-colors"
                      >GitLab</a
                    >
                    for how to get started.
                  </p>
                </div>
              </div>
            </div>
          </section>
        </div>
      </main>
    </div>

    <script type="module" src="/src/js/internal/settings.ts"></script>
  </body>
</html>
